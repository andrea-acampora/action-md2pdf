name: 'md2pdf'
description: 'Convert Markdown files to PDF'

inputs:
  file_dir:
    description: "The path of the markdown files."
    required: true
  output_dir:
    description: "The output path where you want to put the generated pdf."
    required: false
    default: out
  output_file_name:
    description: "The output file name"
    required: false
    default: output.pdf
    
runs:
  using: "composite"
  steps:
    - name: Checkout
      uses: actions/checkout@v3.0.2
    - name: Setup Node.js
      uses: actions/setup-node@v2
      with:
        node-version: 'lts/*'
    - name: Merge markdown files
      shell: bash
      run: cat ${{ inputs.file_dir }}/*.md > ${{ inputs.output_dir }}/output.md
    - name: Convert to PDF 
      shell: bash
      run: |
        npx pretty-md-pdf -i ${{ inputs.output_dir }}/output.md -o ${{ inputs.output_dir }}/${{ inputs.output_file_name }} -t pdf
